(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 12.2' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     63188,       1570]
NotebookOptionsPosition[     54932,       1438]
NotebookOutlinePosition[     55329,       1454]
CellTagsIndexPosition[     55286,       1451]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell["\<\
Inner-city vs Intercity Transmission in Cities (15 year change)\
\>", "Title",
 CellChangeTimes->{{3.827524101225719*^9, 3.827524105966567*^9}, {
  3.83737264179081*^9, 3.837372643480255*^9}, {3.839531618480785*^9, 
  3.839531620001192*^9}, {3.839531666138958*^9, 3.839531707247208*^9}, {
  3.839531793454198*^9, 3.83953179931332*^9}, {3.839532331359798*^9, 
  3.839532346913987*^9}, {3.839532505881398*^9, 3.839532508343519*^9}, {
  3.845651387973868*^9, 3.8456514405612373`*^9}, {3.84593312473519*^9, 
  3.845933152750791*^9}, {3.8461987452735157`*^9, 
  3.846198746290412*^9}},ExpressionUUID->"62a1937e-1a65-443b-95bd-\
dab7c213217e"],

Cell[CellGroupData[{

Cell["\<\
This notebook deduces the ratio of inner-city to total transmission and \
intercity to total transmission in the cities across 15 year windows.\
\>", "Section",
 CellChangeTimes->{{3.8275241310040197`*^9, 3.827524245536495*^9}, {
  3.83737249537049*^9, 3.837372523191085*^9}, {3.8373725577590227`*^9, 
  3.837372570421067*^9}, {3.839530436287035*^9, 3.839530444815814*^9}, {
  3.839531712475218*^9, 3.8395317288947887`*^9}, {3.839531904276374*^9, 
  3.839531905161927*^9}, {3.845651450946073*^9, 3.845651481163865*^9}, {
  3.8456515329886837`*^9, 3.8456515330484*^9}, {3.845933177032124*^9, 
  3.845933195775772*^9}, {3.846198747605151*^9, 
  3.846198748020648*^9}},ExpressionUUID->"a9ecb885-5761-4249-a4fc-\
4941f1d7fb57"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"*", " ", "set", " ", "directory"}], " ", "**)"}]], "Input",
 CellChangeTimes->{{3.8455716146616917`*^9, 3.845571618874926*^9}, {
  3.845571707410281*^9, 3.845571707946002*^9}},
 CellLabel->
  "In[152]:=",ExpressionUUID->"7caffe39-cbac-4065-b2bb-72065b68737d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SetDirectory", "[", 
   RowBox[{"ParentDirectory", "[", 
    RowBox[{"ParentDirectory", "[", 
     RowBox[{"NotebookDirectory", "[", "]"}], "]"}], "]"}], "]"}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.8455716198109303`*^9, 3.845571638227934*^9}, {
  3.845571683756158*^9, 3.845571713034778*^9}},
 CellLabel->
  "In[153]:=",ExpressionUUID->"d13498ec-c738-45c5-8b7b-ad07edd81857"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Directory", "[", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.8455717180541477`*^9, 3.845571732034574*^9}, {
  3.845933315035255*^9, 3.845933317027924*^9}},
 CellLabel->
  "In[154]:=",ExpressionUUID->"bb235ef4-0c7d-4640-8174-3b033a7ba126"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"*", " ", "cities", " ", "of", " ", "interest"}], " ", 
  "**)"}]], "Input",
 CellChangeTimes->{{3.845933215575376*^9, 3.8459332214460773`*^9}},
 CellLabel->
  "In[155]:=",ExpressionUUID->"4d6a6852-6f2a-4b12-8219-02fb9c00c67c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"cits", "=", 
   RowBox[{"ToExpression", "[", 
    RowBox[{"Flatten", "[", 
     RowBox[{"Import", "[", 
      RowBox[{
      "\"\<data/cities/xxx_cities_to_study.csv\>\"", ",", "\"\<CSV\>\""}], 
      "]"}], "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.8459332219380007`*^9, 3.845933224023666*^9}, {
  3.8459332718647738`*^9, 3.845933287315866*^9}, {3.845933325879109*^9, 
  3.845933334694669*^9}, {3.845933569359211*^9, 3.845933571688991*^9}},
 CellLabel->
  "In[156]:=",ExpressionUUID->"eca1c160-ef2a-43d0-b13f-32ca2b32fcc1"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"cits", "[", 
  RowBox[{"[", "1", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.845933327844709*^9, 3.845933329039616*^9}},
 CellLabel->
  "In[157]:=",ExpressionUUID->"8a50cc33-ea0d-410f-8c80-0d39f7807469"],

Cell[BoxData["\:0628\:0635\:0631\:0629"], "Output",
 CellChangeTimes->{{3.845933329221066*^9, 3.845933335782839*^9}, {
   3.845936017599736*^9, 3.845936031749714*^9}, 3.8460855672220182`*^9, {
   3.846086088912368*^9, 3.846086118889244*^9}, 3.846086873946451*^9},
 CellLabel->
  "Out[157]=",ExpressionUUID->"1232caa9-ca4e-4f14-9172-134e91b88c1e"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"*", " ", "highways", " ", "2", " ", "data"}], " ", 
  "**)"}]], "Input",
 CellChangeTimes->{{3.845651602866394*^9, 3.845651608127282*^9}},
 CellLabel->
  "In[158]:=",ExpressionUUID->"80e830ef-7837-47e2-be36-0ed6fbd001df"],

Cell[BoxData[
 RowBox[{
  RowBox[{"h2", "=", 
   RowBox[{"ToExpression", "[", 
    RowBox[{"Import", "[", 
     RowBox[{
     "\"\<data/highways/m7_highways_2_time_count.csv\>\"", ",", 
      "\"\<CSV\>\""}], "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.8456516090012083`*^9, 3.845651665495697*^9}, {
  3.845933592080194*^9, 3.845933593681221*^9}},
 CellLabel->
  "In[159]:=",ExpressionUUID->"2fd37356-461d-41fc-a0ad-57e5c361cbc9"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"h2", "[", 
  RowBox[{"[", "1", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.845651637407028*^9, 3.8456516381155043`*^9}},
 CellLabel->
  "In[160]:=",ExpressionUUID->"1d982116-37a8-4458-bed6-413c83e27199"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"99999", "\[DirectedEdge]", "4883"}], ",", 
   RowBox[{"4883", "\[DirectedEdge]", "2063"}], ",", 
   "\:0627\:0644\:0645\:062f\:064a\:0646\:0647", ",", "\:0645\:0643\:0629", 
   ",", "8", ",", "68", ",", "77.0739371534196`"}], "}"}]], "Output",
 CellChangeTimes->{
  3.845651657258505*^9, 3.845651744712227*^9, 3.845653432633851*^9, 
   3.845826435627955*^9, 3.8458292417877703`*^9, 3.845833951748013*^9, 
   3.8458344188356647`*^9, {3.845933589027774*^9, 3.845933605196563*^9}, 
   3.845933782548024*^9, 3.8459350420080433`*^9, 3.8459360420129213`*^9, 
   3.846085577505918*^9, {3.8460860994727163`*^9, 3.8460861291446*^9}, 
   3.846086884351239*^9},
 CellLabel->
  "Out[160]=",ExpressionUUID->"532ac21b-5e2e-432f-b1a2-ff390a26cacc"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"*", " ", "get", " ", "min", " ", "and", " ", "max", " ", "year"}], 
  " ", "**)"}]], "Input",
 CellChangeTimes->{{3.845652998992524*^9, 3.845653002068952*^9}, {
  3.845653119908998*^9, 3.845653121828165*^9}, {3.845933366455193*^9, 
  3.8459333679089108`*^9}, {3.84593346426798*^9, 3.845933465757132*^9}},
 CellLabel->
  "In[161]:=",ExpressionUUID->"01984cc1-3f3c-47f8-8461-d61c840c10c4"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"minYear", "=", 
  RowBox[{"Min", "[", 
   RowBox[{"h2", "[", 
    RowBox[{"[", 
     RowBox[{";;", ",", "5"}], "]"}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.845653002855485*^9, 3.8456530140341597`*^9}, {
  3.845653084627789*^9, 3.845653090251005*^9}},
 CellLabel->
  "In[162]:=",ExpressionUUID->"aa7a6073-e946-4346-b308-cad948428100"],

Cell[BoxData[
 RowBox[{"-", "11"}]], "Output",
 CellChangeTimes->{
  3.84565309053797*^9, 3.8456534327750998`*^9, 3.845826435781393*^9, 
   3.8458292418648367`*^9, 3.845833951780325*^9, 3.845834419010085*^9, {
   3.845936017745029*^9, 3.845936042078225*^9}, 3.84608557753459*^9, {
   3.846086099499346*^9, 3.8460861291800537`*^9}, 3.846086884379779*^9},
 CellLabel->
  "Out[162]=",ExpressionUUID->"f203dfa1-aac1-4586-b819-34e93fa5c7b0"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"maxYear", "=", 
  RowBox[{"Max", "[", 
   RowBox[{"h2", "[", 
    RowBox[{"[", 
     RowBox[{";;", ",", "6"}], "]"}], "]"}], "]"}]}]], "Input",
 CellChangeTimes->{{3.845653116799471*^9, 3.845653125884994*^9}, {
   3.8456534045175943`*^9, 3.845653404806608*^9}, 3.845829242194331*^9},
 CellLabel->
  "In[163]:=",ExpressionUUID->"e11d9ade-f10e-4aef-ac5e-b3a213f70e35"],

Cell[BoxData["841"], "Output",
 CellChangeTimes->{
  3.845653126286347*^9, {3.845653405252638*^9, 3.845653432872252*^9}, 
   3.845826435881528*^9, 3.84582924412348*^9, 3.84583395181376*^9, 
   3.845834419061407*^9, {3.8459360177521*^9, 3.845936042108963*^9}, 
   3.846085577554105*^9, {3.846086099519018*^9, 3.84608612921068*^9}, 
   3.84608688439466*^9},
 CellLabel->
  "Out[163]=",ExpressionUUID->"a9707252-dc29-4680-bc96-8446bdbd2335"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
  "*", " ", "cities", " ", "to", " ", "inner", " ", "and", " ", "inter", " ", 
   "city", " ", "transmission"}], " ", "**)"}]], "Input",
 CellChangeTimes->{{3.8459333601386623`*^9, 3.845933363736855*^9}, {
  3.845933482179715*^9, 3.845933500018014*^9}},
 CellLabel->
  "In[164]:=",ExpressionUUID->"99ddbade-a3f2-4c05-8caf-fe37479526bd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"innerbuckets", "=", 
   RowBox[{"Table", "[", 
    RowBox[{"0", ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"maxYear", "+", 
        RowBox[{"Abs", "[", "minYear", "]"}], "+", "1"}], ",", "1"}], "}"}]}],
     "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"interbuckets", "=", 
   RowBox[{"Table", "[", 
    RowBox[{"0", ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{"maxYear", "+", 
        RowBox[{"Abs", "[", "minYear", "]"}], "+", "1"}], ",", "1"}], "}"}]}],
     "]"}]}], ";"}]}], "Input",
 CellLabel->
  "In[165]:=",ExpressionUUID->"1d74027c-d0ed-49fc-abc0-b4d229b7bcc0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"citsToInner", "=", 
   RowBox[{"Association", "[", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"cits", "[", 
        RowBox[{"[", "i", "]"}], "]"}], "\[Rule]", "innerbuckets"}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "1", ",", 
        RowBox[{"Length", "[", "cits", "]"}], ",", "1"}], "}"}]}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"citsToInter", "=", 
   RowBox[{"Association", "[", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"cits", "[", 
        RowBox[{"[", "i", "]"}], "]"}], "\[Rule]", "interbuckets"}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "1", ",", 
        RowBox[{"Length", "[", "cits", "]"}], ",", "1"}], "}"}]}], "]"}], 
    "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.845933427316242*^9, 3.845933533803965*^9}, {
  3.845934665822084*^9, 3.845934671751498*^9}},
 CellLabel->
  "In[167]:=",ExpressionUUID->"2779a4d3-fe4b-457c-9507-c30e9d5d9e7d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"citsToInner", "[", "\:0628\:0635\:0631\:0629", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{";;", "10"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.845933537969623*^9, 3.84593357851641*^9}},
 CellLabel->
  "In[169]:=",ExpressionUUID->"2004ab58-e72c-45b2-80ed-3d09c337e948"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", 
   ",", "0", ",", "0"}], "}"}]], "Output",
 CellChangeTimes->{{3.845933541177916*^9, 3.845933578719132*^9}, 
   3.845933772164008*^9, 3.845934673646688*^9, 3.845935031605773*^9, {
   3.845936017975415*^9, 3.845936042148391*^9}, 3.8459361124919558`*^9, 
   3.8460855775683823`*^9, {3.846086099533832*^9, 3.846086129248796*^9}, 
   3.8460868844241257`*^9},
 CellLabel->
  "Out[169]=",ExpressionUUID->"70f2d3f6-ddea-4c1d-b77c-3a24a1f5dd28"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"citsToInter", "[", "\:0628\:0635\:0631\:0629", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{";;", "10"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.8459335823455153`*^9, 3.845933582445804*^9}},
 CellLabel->
  "In[170]:=",ExpressionUUID->"3c484ae1-9307-4cc9-8164-cadd192bc377"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", 
   ",", "0", ",", "0"}], "}"}]], "Output",
 CellChangeTimes->{
  3.845933582785063*^9, 3.845933772170619*^9, 3.845934674885087*^9, 
   3.845935031611473*^9, {3.8459360179826813`*^9, 3.845936042172447*^9}, 
   3.8459361133703623`*^9, 3.846085577585773*^9, {3.84608609955024*^9, 
   3.846086129276578*^9}, 3.8460868844284554`*^9},
 CellLabel->
  "Out[170]=",ExpressionUUID->"7a0e7ed0-e30d-4e40-a3dd-29f121ddcbf6"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
  "*", " ", "place", " ", "transmissions", " ", "in", " ", "buckets", " ", 
   "for", " ", "each", " ", "year"}], " ", "**)"}]], "Input",
 CellChangeTimes->{{3.845934174669249*^9, 3.8459341816173277`*^9}},
 CellLabel->
  "In[171]:=",ExpressionUUID->"d9cab323-4cda-4afc-a3f8-2735d12d88a3"],

Cell[BoxData[
 RowBox[{"Monitor", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"For", "[", 
     RowBox[{
      RowBox[{"i", "=", "1"}], ",", 
      RowBox[{"i", "\[LessEqual]", 
       RowBox[{"Length", "[", "h2", "]"}]}], ",", 
      RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"cit1", "=", 
        RowBox[{"h2", "[", 
         RowBox[{"[", 
          RowBox[{"i", ",", "3"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"!", 
          RowBox[{"MemberQ", "[", 
           RowBox[{"cits", ",", "cit1"}], "]"}]}], ",", 
         RowBox[{"Continue", "[", "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
       
       RowBox[{"cit2", "=", 
        RowBox[{"h2", "[", 
         RowBox[{"[", 
          RowBox[{"i", ",", "4"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"start", "=", 
        RowBox[{"h2", "[", 
         RowBox[{"[", 
          RowBox[{"i", ",", "5"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"end", "=", 
        RowBox[{"h2", "[", 
         RowBox[{"[", 
          RowBox[{"i", ",", "6"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"percent", "=", 
        RowBox[{"1", "/", 
         RowBox[{"(", 
          RowBox[{"end", "-", "start", "+", "1"}], ")"}]}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"count", "=", 
        RowBox[{"h2", "[", 
         RowBox[{"[", 
          RowBox[{"i", ",", "7"}], "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"offset", "=", 
        RowBox[{
         RowBox[{"Abs", "[", "minYear", "]"}], "+", "1"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"For", "[", 
        RowBox[{
         RowBox[{"j", "=", 
          RowBox[{"start", "+", "offset"}]}], ",", 
         RowBox[{"j", "\[LessEqual]", 
          RowBox[{"end", "+", "offset"}]}], ",", 
         RowBox[{"j", "++"}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"inner", "=", 
           RowBox[{"citsToInner", "[", "cit1", "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"inter", "=", 
           RowBox[{"citsToInter", "[", "cit1", "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"ToString", "[", "cit1", "]"}], "\[Equal]", 
             RowBox[{"ToString", "[", "cit2", "]"}]}], ",", 
            RowBox[{
             RowBox[{
              RowBox[{"inner", "[", 
               RowBox[{"[", "j", "]"}], "]"}], "+=", 
              RowBox[{"count", "*", "percent"}]}], ";"}]}], "]"}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"ToString", "[", "cit1", "]"}], "\[NotEqual]", 
             RowBox[{"ToString", "[", "cit2", "]"}]}], ",", 
            RowBox[{
             RowBox[{
              RowBox[{"inter", "[", 
               RowBox[{"[", "j", "]"}], "]"}], "+=", 
              RowBox[{"count", "*", "percent"}]}], ";"}]}], "]"}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"citsToInner", "[", "cit1", "]"}], "=", "inner"}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"citsToInter", "[", "cit1", "]"}], "=", "inter"}], ";"}]}],
         "\[IndentingNewLine]", "]"}], ";"}]}], "\[IndentingNewLine]", "]"}], 
    ";"}], ",", "i"}], "]"}]], "Input",
 CellChangeTimes->{{3.845651958347237*^9, 3.8456521620289173`*^9}, {
  3.845652239161153*^9, 3.845652313998592*^9}, {3.8456523660995827`*^9, 
  3.845652367138192*^9}, {3.845652397727544*^9, 3.845652485828287*^9}, {
  3.845652592589082*^9, 3.845652705943062*^9}, {3.8456527567962923`*^9, 
  3.845652837159327*^9}, {3.845652890082623*^9, 3.845652935967444*^9}, {
  3.845653042042974*^9, 3.845653109589292*^9}, {3.845653158886771*^9, 
  3.84565316470255*^9}, {3.845653203582713*^9, 3.845653229044114*^9}, {
  3.845653328446192*^9, 3.8456534128326063`*^9}, {3.845653598364073*^9, 
  3.845653620819612*^9}, {3.845933647042124*^9, 3.84593376734518*^9}},
 CellLabel->
  "In[172]:=",ExpressionUUID->"bb393740-209f-4362-9912-404c5cd7d3a9"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"citsToInner", "[", "\:0628\:0635\:0631\:0629", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{";;", "10"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.8456528955839376`*^9, 3.845652898241289*^9}, 
   3.845934171792076*^9},
 CellLabel->
  "In[173]:=",ExpressionUUID->"2e7881b9-a4e4-4122-8322-afb48ac77ff8"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0", ",", "0", ",", "0", ",", "0.01639344262295082`", ",", 
   "0.01639344262295082`", ",", "0.01639344262295082`", ",", 
   "0.01639344262295082`", ",", "0.01639344262295082`", ",", 
   "0.01639344262295082`", ",", "0.01639344262295082`"}], "}"}]], "Output",
 CellChangeTimes->{3.84565291553578*^9, 3.8456534502529*^9, 
  3.845653524001977*^9, 3.845653629732847*^9, 3.8458264734951677`*^9, 
  3.845827521951684*^9, 3.84582939210783*^9, 3.8458340921203203`*^9, 
  3.8458345611705437`*^9, 3.8459341720920477`*^9, 3.8459349380108643`*^9, 
  3.845936369586979*^9, 3.846085829832364*^9, 3.846086381130011*^9, 
  3.846087136710038*^9},
 CellLabel->
  "Out[173]=",ExpressionUUID->"01356eb2-9f71-4001-84b4-467dae075144"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"citsToInter", "[", "\:0628\:0635\:0631\:0629", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{";;", "10"}], "]"}], "]"}]], "Input",
 CellLabel->
  "In[174]:=",ExpressionUUID->"ada7900b-82a2-44e4-970a-2011741da793"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0", ",", "0", ",", "0.01694915254237288`", ",", "0.01694915254237288`", 
   ",", "0.01694915254237288`", ",", "0.01694915254237288`", ",", 
   "0.01694915254237288`", ",", "0.01694915254237288`", ",", 
   "0.01694915254237288`", ",", "0.01694915254237288`"}], "}"}]], "Output",
 CellChangeTimes->{3.845934186503805*^9, 3.845934938309408*^9, 
  3.845936369617572*^9, 3.846085829839305*^9, 3.846086381134939*^9, 
  3.8460871367317*^9},
 CellLabel->
  "Out[174]=",ExpressionUUID->"77a65984-b7ab-496e-aa8e-9271705870dc"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
  "*", " ", "map", " ", "inner", " ", "and", " ", "inter", " ", "1", " ", 
   "year", " ", "buckets", " ", "to", " ", "15", " ", "year", " ", 
   "buckets"}], " ", "**)"}]], "Input",
 CellChangeTimes->{{3.84565347074402*^9, 3.8456534848015337`*^9}, {
  3.845934466014352*^9, 3.84593446634566*^9}},
 CellLabel->
  "In[175]:=",ExpressionUUID->"d7594bf9-cb8a-40ea-adb3-f0f6d03721d3"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
  "*", " ", "determine", " ", "beginning", " ", "and", " ", "end", " ", 
   "offset"}], " ", "***)"}]], "Input",
 CellChangeTimes->{{3.8458307336384487`*^9, 3.8458307415647984`*^9}, {
   3.845831221170274*^9, 3.84583122311399*^9}, 3.8458312695725737`*^9},
 CellLabel->
  "In[176]:=",ExpressionUUID->"c9442cde-9aa4-4b55-853c-f256ae5ee55f"],

Cell[CellGroupData[{

Cell[BoxData["minYear"], "Input",
 CellChangeTimes->{{3.845830762206705*^9, 3.845830763892318*^9}},
 CellLabel->
  "In[177]:=",ExpressionUUID->"66d94f18-cfb1-47f4-bcef-00c693f49cae"],

Cell[BoxData[
 RowBox[{"-", "11"}]], "Output",
 CellChangeTimes->{3.845830764135909*^9, 3.845834092172143*^9, 
  3.845834561251178*^9, 3.8459344752356033`*^9, 3.845934950280102*^9, 
  3.84593636970016*^9, 3.846085829867082*^9, 3.84608638115829*^9, 
  3.846087136742599*^9},
 CellLabel->
  "Out[177]=",ExpressionUUID->"ec8bd9c3-09fb-430c-b33d-ea6d2f383638"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData["maxYear"], "Input",
 CellChangeTimes->{{3.84583076463946*^9, 3.845830766361335*^9}},
 CellLabel->
  "In[178]:=",ExpressionUUID->"006862d9-d57d-4020-810c-9865a852d12a"],

Cell[BoxData["841"], "Output",
 CellChangeTimes->{3.845830766613613*^9, 3.845834092178464*^9, 
  3.8458345612743196`*^9, 3.8459344752602158`*^9, 3.84593495104777*^9, 
  3.845936369730736*^9, 3.846085829887105*^9, 3.846086381162978*^9, 
  3.846087136761271*^9},
 CellLabel->
  "Out[178]=",ExpressionUUID->"4f39eb07-27fa-4249-b2bf-e2576479e200"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{
    RowBox[{"**", " ", "first"}], " ", "bucket", " ", "will", " ", "be", " ", 
    "years"}], " ", "-", 
   RowBox[{"11", " ", "to", " ", "0", " ", 
    RowBox[{"(", 
     RowBox[{"12", " ", "years"}], ")"}], " ", "and", " ", "last", " ", 
    "bucket", " ", "will", " ", "be", " ", "year", " ", "841", " ", 
    RowBox[{"(", 
     RowBox[{"1", " ", "year"}], ")"}]}]}], " ", "***)"}]], "Input",
 CellChangeTimes->{{3.845830777293014*^9, 3.8458307943178864`*^9}, {
  3.8458312244537573`*^9, 3.845831229508401*^9}, {3.8459352685760508`*^9, 
  3.845935284261622*^9}},
 CellLabel->
  "In[179]:=",ExpressionUUID->"9c127fc3-1725-4a1b-b3d3-a9da78bc72b0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"begOffset", "=", "12"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"endOffset", "=", "1"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"numOffsets", "=", "2"}], ";"}]}], "Input",
 CellChangeTimes->{{3.845830767650407*^9, 3.845830775808058*^9}, {
  3.8458311973571167`*^9, 3.845831207435254*^9}, {3.8459345129607162`*^9, 
  3.845934513243906*^9}},
 CellLabel->
  "In[180]:=",ExpressionUUID->"7d414c3e-dcc7-4b67-bb2b-23835c006f25"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"innerbuckets15", "=", 
    RowBox[{"Table", "[", 
     RowBox[{"0", ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "1", ",", 
        RowBox[{
         RowBox[{"Floor", "[", 
          RowBox[{
           RowBox[{"Length", "[", "interbuckets", "]"}], "/", "15"}], "]"}], 
         "+", "numOffsets"}], ",", "1"}], "}"}]}], "]"}]}], ";"}], 
  " "}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"interbuckets15", "=", 
   RowBox[{"Table", "[", 
    RowBox[{"0", ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", 
       RowBox[{
        RowBox[{"Floor", "[", 
         RowBox[{
          RowBox[{"Length", "[", "innerbuckets", "]"}], "/", "15"}], "]"}], 
        "+", "numOffsets"}], ",", "1"}], "}"}]}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.845653499552903*^9, 3.84565351307512*^9}, {
  3.8456541592777243`*^9, 3.845654170687346*^9}, {3.8458304111807613`*^9, 
  3.845830414826693*^9}, {3.8458304884885063`*^9, 3.8458304905035*^9}, {
  3.8458305304347353`*^9, 3.845830571581688*^9}, {3.845831189932597*^9, 
  3.8458312488212347`*^9}, {3.8459345278486*^9, 3.845934534119172*^9}},
 CellLabel->
  "In[183]:=",ExpressionUUID->"35405b44-99c9-492e-b191-141894f730ed"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"citsToInner15", "=", 
   RowBox[{"Association", "[", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"cits", "[", 
        RowBox[{"[", "i", "]"}], "]"}], "\[Rule]", "innerbuckets15"}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "1", ",", 
        RowBox[{"Length", "[", "cits", "]"}], ",", "1"}], "}"}]}], "]"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"citsToInter15", "=", 
   RowBox[{"Association", "[", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"cits", "[", 
        RowBox[{"[", "i", "]"}], "]"}], "\[Rule]", "interbuckets15"}], ",", 
      RowBox[{"{", 
       RowBox[{"i", ",", "1", ",", 
        RowBox[{"Length", "[", "cits", "]"}], ",", "1"}], "}"}]}], "]"}], 
    "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.845934959733487*^9, 3.845934966230473*^9}, {
  3.8459350147877083`*^9, 3.845935016422834*^9}},
 CellLabel->
  "In[185]:=",ExpressionUUID->"d843082e-25b3-4754-8674-e0f856dc11d2"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"**", " ", "manual"}], " ", "setting", " ", "of", " ", "first", 
   " ", "and", " ", "last", " ", "bucket"}], " ", "***)"}]], "Input",
 CellChangeTimes->{{3.8456536693024693`*^9, 3.845653707034577*^9}, {
  3.845653955418723*^9, 3.8456539571740837`*^9}, {3.845831264811494*^9, 
  3.845831266300489*^9}},
 CellLabel->
  "In[187]:=",ExpressionUUID->"dcdcff28-a6be-46f6-8b92-1fa1a4824ebf"],

Cell[BoxData[
 RowBox[{
  RowBox[{"For", "[", 
   RowBox[{
    RowBox[{"z", "=", "1"}], ",", 
    RowBox[{"z", "\[LessEqual]", 
     RowBox[{"Length", "[", "cits", "]"}]}], ",", 
    RowBox[{"z", "++"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cit", "=", 
      RowBox[{"cits", "[", 
       RowBox[{"[", "z", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"inner", "=", 
      RowBox[{"citsToInner", "[", "cit", "]"}]}], ";", "\[IndentingNewLine]", 
     
     RowBox[{"inter", "=", 
      RowBox[{"citsToInter", "[", "cit", "]"}]}], ";", "\[IndentingNewLine]", 
     
     RowBox[{"inner15", "=", 
      RowBox[{"citsToInner15", "[", "cit", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"inter15", "=", 
      RowBox[{"citsToInter15", "[", "cit", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"For", "[", 
      RowBox[{
       RowBox[{"i", "=", "1"}], ",", 
       RowBox[{"i", "\[LessEqual]", "begOffset"}], ",", 
       RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"inner15", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "+=", 
         RowBox[{"inner", "[", 
          RowBox[{"[", "i", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"inter15", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "+=", 
         RowBox[{"inter", "[", 
          RowBox[{"[", "i", "]"}], "]"}]}], ";"}]}], "\[IndentingNewLine]", 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"citsToInner15", "[", "cit", "]"}], "=", "inner15"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"citsToInter15", "[", "cit", "]"}], "=", "inter15"}], ";"}]}], 
   "\[IndentingNewLine]", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.8458312771525993`*^9, 3.8458313559040422`*^9}, {
   3.845831394826127*^9, 3.845831460869341*^9}, {3.845831541472095*^9, 
   3.845831549922017*^9}, 3.8458315981770267`*^9, {3.845934981891007*^9, 
   3.8459350034749327`*^9}, {3.845935038384256*^9, 3.845935164784783*^9}, 
   3.8459352173816643`*^9},
 CellLabel->
  "In[188]:=",ExpressionUUID->"976508b5-72e6-4267-80de-4f8cb342471f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"For", "[", 
   RowBox[{
    RowBox[{"z", "=", "1"}], ",", 
    RowBox[{"z", "\[LessEqual]", 
     RowBox[{"Length", "[", "cits", "]"}]}], ",", 
    RowBox[{"z", "++"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cit", "=", 
      RowBox[{"cits", "[", 
       RowBox[{"[", "z", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"inner", "=", 
      RowBox[{"citsToInner", "[", "cit", "]"}]}], ";", "\[IndentingNewLine]", 
     
     RowBox[{"inter", "=", 
      RowBox[{"citsToInter", "[", "cit", "]"}]}], ";", "\[IndentingNewLine]", 
     
     RowBox[{"inner15", "=", 
      RowBox[{"citsToInner15", "[", "cit", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"inter15", "=", 
      RowBox[{"citsToInter15", "[", "cit", "]"}]}], ";", 
     RowBox[{"For", "[", 
      RowBox[{
       RowBox[{"i", "=", 
        RowBox[{"Length", "[", "innerbuckets", "]"}]}], ",", 
       RowBox[{"i", ">", 
        RowBox[{
         RowBox[{"Length", "[", "innerbuckets", "]"}], "-", "endOffset"}]}], 
       ",", 
       RowBox[{"i", "--"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"inner15", "[", 
          RowBox[{"[", 
           RowBox[{"Length", "[", "inner15", "]"}], "]"}], "]"}], "+=", 
         RowBox[{"inner", "[", 
          RowBox[{"[", "i", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"inter15", "[", 
          RowBox[{"[", 
           RowBox[{"Length", "[", "inter15", "]"}], "]"}], "]"}], "+=", 
         RowBox[{"inter", "[", 
          RowBox[{"[", "i", "]"}], "]"}]}], ";"}]}], "\[IndentingNewLine]", 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"citsToInner15", "[", "cit", "]"}], "=", "inner15"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"citsToInter15", "[", "cit", "]"}], "=", "inter15"}], ";"}]}], 
   "\[IndentingNewLine]", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.845935173268511*^9, 3.845935218482315*^9}},
 CellLabel->
  "In[189]:=",ExpressionUUID->"1c4850cc-ee97-4909-8270-1f83642527e8"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"citsToInner15", "[", "\:0628\:0635\:0631\:0629", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{";;", "10"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.845936672231402*^9, 3.84593667248239*^9}},
 CellLabel->
  "In[190]:=",ExpressionUUID->"949c0050-a4d3-4291-8770-9631fdcc0443"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.2142509684451972`", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", 
   ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}]], "Output",
 CellChangeTimes->{
  3.845936369893674*^9, {3.845936673251301*^9, 3.8459366822840433`*^9}, 
   3.8460858299293528`*^9, 3.8460863811995153`*^9, 3.8460871368016357`*^9},
 CellLabel->
  "Out[190]=",ExpressionUUID->"cb75cbf1-f539-4269-b458-db0e08e1daba"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"citsToInter15", "[", "\:0628\:0635\:0631\:0629", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{";;", "10"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.845936674680181*^9, 3.845936674919385*^9}},
 CellLabel->
  "In[191]:=",ExpressionUUID->"c09b4164-0a70-4c07-aa00-2572b722ec55"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.28713858424725824`", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", 
   ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}]], "Output",
 CellChangeTimes->{
  3.845936369928122*^9, {3.845936675455244*^9, 3.845936682288782*^9}, 
   3.8460858299336023`*^9, 3.84608638120464*^9, 3.846087136806156*^9},
 CellLabel->
  "Out[191]=",ExpressionUUID->"e4b844e3-f242-419b-a35e-bc0ed13625d9"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"**", " ", "fill"}], " ", "in", " ", "the", " ", "rest"}], " ", 
  "***)"}]], "Input",
 CellChangeTimes->{{3.845829724830391*^9, 3.8458297308979*^9}, {
  3.845935255239048*^9, 3.845935257046897*^9}},
 CellLabel->
  "In[192]:=",ExpressionUUID->"106d0c8b-c5df-47ea-8fe2-c12a4f4921cc"],

Cell[BoxData[
 RowBox[{
  RowBox[{"For", "[", 
   RowBox[{
    RowBox[{"z", "=", "1"}], ",", 
    RowBox[{"z", "\[LessEqual]", 
     RowBox[{"Length", "[", "cits", "]"}]}], ",", 
    RowBox[{"z", "++"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cit", "=", 
      RowBox[{"cits", "[", 
       RowBox[{"[", "z", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"inner", "=", 
      RowBox[{"citsToInner", "[", "cit", "]"}]}], ";", "\[IndentingNewLine]", 
     
     RowBox[{"inter", "=", 
      RowBox[{"citsToInter", "[", "cit", "]"}]}], ";", "\[IndentingNewLine]", 
     
     RowBox[{"inner15", "=", 
      RowBox[{"citsToInner15", "[", "cit", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"inter15", "=", 
      RowBox[{"citsToInter15", "[", "cit", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"index", "=", "2"}], ";", 
     RowBox[{"count", " ", "=", " ", "1"}], ";", "\[IndentingNewLine]", 
     RowBox[{"For", "[", 
      RowBox[{
       RowBox[{"i", "=", 
        RowBox[{"begOffset", "+", "1"}]}], ",", 
       RowBox[{"i", "\[LessEqual]", 
        RowBox[{
         RowBox[{"Length", "[", "innerbuckets", "]"}], "-", "endOffset"}]}], 
       ",", 
       RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"inner15", "[", 
          RowBox[{"[", "index", "]"}], "]"}], "+=", 
         RowBox[{"inner", "[", 
          RowBox[{"[", "i", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"inter15", "[", 
          RowBox[{"[", "index", "]"}], "]"}], "+=", 
         RowBox[{"inter", "[", 
          RowBox[{"[", "i", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"count", "\[Equal]", "15"}], ",", 
          RowBox[{
           RowBox[{"index", "++"}], ";", 
           RowBox[{"count", "=", "0"}], ";"}]}], "]"}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"count", "++"}], ";"}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"citsToInner15", "[", "cit", "]"}], "=", "inner15"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"citsToInter15", "[", "cit", "]"}], "=", "inter15"}], ";"}]}], 
   "\[IndentingNewLine]", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.845653709036709*^9, 3.845653754096887*^9}, {
  3.8458297912516813`*^9, 3.845829978352377*^9}, {3.845830013236655*^9, 
  3.845830014306785*^9}, {3.845830101042674*^9, 3.845830134453438*^9}, {
  3.8458301702854557`*^9, 3.845830186327877*^9}, {3.845830494823956*^9, 
  3.845830524947158*^9}, {3.845830623018454*^9, 3.84583062334293*^9}, {
  3.845830665594784*^9, 3.8458307098298597`*^9}, {3.84583307421031*^9, 
  3.845833140108824*^9}, {3.845936061937079*^9, 3.845936090758391*^9}},
 CellLabel->
  "In[193]:=",ExpressionUUID->"f715b044-237e-43be-8f9b-4b783c367a3a"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"citsToInner15", "[", "\:0628\:0635\:0631\:0629", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{";;", "10"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.845833370892576*^9, 3.8458333737282867`*^9}, {
  3.845936685858665*^9, 3.8459366929469557`*^9}},
 CellLabel->
  "In[194]:=",ExpressionUUID->"2202b500-4362-4926-a3b0-e30bf52c2709"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.2142509684451972`", ",", "4.06811317439754`", ",", "15.963840639741683`",
    ",", "184.03614742722482`", ",", "594.0282862475079`", ",", 
   "1164.6010944808602`", ",", "3431.111172815724`", ",", 
   "6434.832277427013`", ",", "10082.350836754604`", ",", 
   "11767.546579870965`"}], "}"}]], "Output",
 CellChangeTimes->{
  3.845833378551921*^9, 3.8458340922372513`*^9, 3.84583456132113*^9, {
   3.845936687026935*^9, 3.845936693523737*^9}, 3.846085830028122*^9, 
   3.846086381288822*^9, 3.846087136882223*^9},
 CellLabel->
  "Out[194]=",ExpressionUUID->"7b613405-f4ce-45a7-b4bb-9547b8feae04"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"citsToInter15", "[", "\:0628\:0635\:0631\:0629", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{";;", "10"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.8458333667460833`*^9, 3.845833375652749*^9}, 
   3.845936696418501*^9},
 CellLabel->
  "In[195]:=",ExpressionUUID->"cbc69d2c-7106-4cb6-ac3b-49ee42ca810c"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.28713858424725824`", ",", "1.48683472808957`", ",", 
   "2.5808542878806713`", ",", "24.75089021275939`", ",", 
   "75.75546068515649`", ",", "282.8727135044104`", ",", "848.3407474768487`",
    ",", "1291.1067880858764`", ",", "2201.3255780565196`", ",", 
   "3490.150052268162`"}], "}"}]], "Output",
 CellChangeTimes->{3.845833378590239*^9, 3.8458340922447844`*^9, 
  3.845834561326721*^9, 3.84593669672222*^9, 3.846085830046256*^9, 
  3.846086381302717*^9, 3.846087136899646*^9},
 CellLabel->
  "Out[195]=",ExpressionUUID->"47c43ea9-8ab8-44f9-b66c-4da973a8daba"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"*", " ", "normalize", " ", "to", " ", "get", " ", "ratios"}], " ", 
  "**)"}]], "Input",
 CellChangeTimes->{{3.845833252794043*^9, 3.8458332587072887`*^9}},
 CellLabel->
  "In[196]:=",ExpressionUUID->"681eaacf-2fcf-42bb-ad63-1126a18bfc03"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"citsToInner15N", "=", "citsToInner15"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"citsToInter15N", "=", "citsToInter15"}], ";"}]}], "Input",
 CellChangeTimes->{{3.845936854060001*^9, 3.845936868594262*^9}},
 CellLabel->
  "In[216]:=",ExpressionUUID->"4763bce9-b7b5-41ee-aa43-88552e99c759"],

Cell[BoxData[
 RowBox[{
  RowBox[{"For", "[", 
   RowBox[{
    RowBox[{"z", "=", "1"}], ",", 
    RowBox[{"z", "\[LessEqual]", 
     RowBox[{"Length", "[", "cits", "]"}]}], ",", 
    RowBox[{"z", "++"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"cit", "=", 
      RowBox[{"cits", "[", 
       RowBox[{"[", "z", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"inner15", "=", 
      RowBox[{"citsToInner15N", "[", "cit", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"inter15", "=", 
      RowBox[{"citsToInter15N", "[", "cit", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"For", "[", 
      RowBox[{
       RowBox[{"i", "=", "1"}], ",", 
       RowBox[{"i", "\[LessEqual]", 
        RowBox[{"Length", "[", "inner15", "]"}]}], ",", 
       RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"bucketTotal", "=", 
         RowBox[{
          RowBox[{"inner15", "[", 
           RowBox[{"[", "i", "]"}], "]"}], "+", 
          RowBox[{"inter15", "[", 
           RowBox[{"[", "i", "]"}], "]"}]}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"bucketTotal", "!=", "0"}], ",", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"inner15", "[", 
             RowBox[{"[", "i", "]"}], "]"}], "=", 
            RowBox[{
             RowBox[{"inner15", "[", 
              RowBox[{"[", "i", "]"}], "]"}], "/", "bucketTotal"}]}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"inter15", "[", 
             RowBox[{"[", "i", "]"}], "]"}], "=", 
            RowBox[{
             RowBox[{"inter15", "[", 
              RowBox[{"[", "i", "]"}], "]"}], "/", "bucketTotal"}]}], ";"}], 
          ",", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"inner15", "[", 
             RowBox[{"[", "i", "]"}], "]"}], "=", "Null"}], ";", 
           "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"inter15", "[", 
             RowBox[{"[", "i", "]"}], "]"}], "=", "Null"}], ";"}]}], 
         "\[IndentingNewLine]", "]"}], ";"}]}], "\[IndentingNewLine]", "]"}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"citsToInner15N", "[", "cit", "]"}], "=", "inner15"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"citsToInter15N", "[", "cit", "]"}], "=", "inter15"}], ";"}]}], 
   "\[IndentingNewLine]", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.845833278248608*^9, 3.8458333381740513`*^9}, {
  3.8459367517370787`*^9, 3.8459368127986593`*^9}, {3.8459368716082706`*^9, 
  3.845936878451666*^9}, {3.845936930219123*^9, 3.845936938424019*^9}, {
  3.846086789616794*^9, 3.8460868690622807`*^9}, {3.846087299145957*^9, 
  3.846087300451901*^9}},
 CellLabel->
  "In[218]:=",ExpressionUUID->"c61daeb0-c485-4cf1-8349-45d1ad09e9e0"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"citsToInner15N", "[", "\:0628\:0635\:0631\:0629", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{";;", "10"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.845833339205311*^9, 3.845833344071293*^9}, {
  3.845936880944601*^9, 3.845936894329607*^9}, {3.846087294408079*^9, 
  3.846087307450061*^9}},
 CellLabel->
  "In[220]:=",ExpressionUUID->"988e2dcb-6386-4d03-91c1-ffce7f1a3cc5"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.4273143851814867`", ",", "0.732340472999959`", ",", 
   "0.8608305880493895`", ",", "0.8814538943962706`", ",", 
   "0.8868956420156723`", ",", "0.8045749001164042`", ",", 
   "0.8017641596920078`", ",", "0.8328867497998877`", ",", 
   "0.8207926109643969`", ",", "0.7712531493832144`"}], "}"}]], "Output",
 CellChangeTimes->{
  3.845833344322188*^9, 3.845834092282856*^9, 3.845834561354665*^9, {
   3.845936892323008*^9, 3.845936895537648*^9}, 3.845936941669693*^9, 
   3.846085830080741*^9, 3.8460863813302927`*^9, 3.846087136930963*^9, {
   3.846087294739626*^9, 3.8460873077257233`*^9}},
 CellLabel->
  "Out[220]=",ExpressionUUID->"ee98c346-c350-48f7-a3bc-6b6cd808871b"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"citsToInter15N", "[", "\:0628\:0635\:0631\:0629", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{";;", "10"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.845833345181691*^9, 3.8458333531751842`*^9}, {
  3.845936947645204*^9, 3.845936949274041*^9}},
 CellLabel->
  "In[221]:=",ExpressionUUID->"df8ed91b-0d63-42c4-9b58-648cac272b0b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.5726856148185133`", ",", "0.26765952700004103`", ",", 
   "0.13916941195061042`", ",", "0.11854610560372938`", ",", 
   "0.11310435798432782`", ",", "0.1954250998835959`", ",", 
   "0.19823584030799213`", ",", "0.16711325020011217`", ",", 
   "0.17920738903560313`", ",", "0.22874685061678565`"}], "}"}]], "Output",
 CellChangeTimes->{
  3.845833353531461*^9, 3.8458340922892942`*^9, 3.845834561374176*^9, {
   3.8459369430784197`*^9, 3.845936949541585*^9}, 3.84608583008505*^9, 
   3.846086381335063*^9, 3.8460871369490128`*^9, 3.846087310519319*^9},
 CellLabel->
  "Out[221]=",ExpressionUUID->"79f6166b-f2da-4f46-8242-12df71aa3565"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
  "*", " ", "turn", " ", "into", " ", "list", " ", "and", " ", "limit", " ", 
   "to", " ", "500", " ", "years"}], "**)"}]], "Input",
 CellChangeTimes->{{3.845936968748083*^9, 3.8459369797723513`*^9}, {
  3.845937133317672*^9, 3.845937135175378*^9}, {3.8460856485294313`*^9, 
  3.8460856485919733`*^9}},
 CellLabel->
  "In[222]:=",ExpressionUUID->"88f50cc6-09ff-4e44-952b-a8e4cb310a82"],

Cell[BoxData[
 RowBox[{
  RowBox[{"inner15", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Reap", "[", 
      RowBox[{"For", "[", 
       RowBox[{
        RowBox[{"z", "=", "1"}], ",", 
        RowBox[{"z", "\[LessEqual]", 
         RowBox[{"Length", "[", "cits", "]"}]}], ",", 
        RowBox[{"z", "++"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cit", "=", 
          RowBox[{"cits", "[", 
           RowBox[{"[", "z", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"Sow", "[", 
          RowBox[{
           RowBox[{"citsToInner15N", "[", "cit", "]"}], "[", 
           RowBox[{"[", 
            RowBox[{";;", "35"}], "]"}], "]"}], "]"}]}]}], "]"}], "]"}], "[", 
     
     RowBox[{"[", "2", "]"}], "]"}], "[", 
    RowBox[{"[", "1", "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.845936997428933*^9, 3.8459370168772583`*^9}, {
  3.8459371575940113`*^9, 3.8459371598344088`*^9}, {3.845937762862855*^9, 
  3.845937763146888*^9}, {3.845937910146364*^9, 3.845937924149621*^9}, {
  3.845938005845845*^9, 3.8459380511409273`*^9}, {3.845994188819323*^9, 
  3.845994209784069*^9}, {3.845994736779737*^9, 3.845994740118558*^9}, {
  3.845996706566657*^9, 3.845996706738777*^9}, {3.845996763914588*^9, 
  3.845996764990912*^9}, {3.8459969636472*^9, 3.8459969638838377`*^9}, {
  3.845997220488351*^9, 3.845997220699741*^9}, {3.8459975283962*^9, 
  3.8459975284424257`*^9}},
 CellLabel->
  "In[223]:=",ExpressionUUID->"802a9bca-fb5a-4a35-9be9-cde98eb51521"],

Cell[BoxData[
 RowBox[{
  RowBox[{"inter15", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Reap", "[", 
      RowBox[{"For", "[", 
       RowBox[{
        RowBox[{"z", "=", "1"}], ",", 
        RowBox[{"z", "\[LessEqual]", 
         RowBox[{"Length", "[", "cits", "]"}]}], ",", 
        RowBox[{"z", "++"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"cit", "=", 
          RowBox[{"cits", "[", 
           RowBox[{"[", "z", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"Sow", "[", 
           RowBox[{"citsToInter15N", "[", "cit", "]"}], "]"}], "[", 
          RowBox[{"[", 
           RowBox[{";;", "35"}], "]"}], "]"}], ";"}]}], "]"}], "]"}], "[", 
     RowBox[{"[", "2", "]"}], "]"}], "[", 
    RowBox[{"[", "1", "]"}], "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.845937021021886*^9, 3.845937026953233*^9}, {
  3.8459371618705187`*^9, 3.845937162989315*^9}, {3.845937764308983*^9, 
  3.845937764575055*^9}, {3.8459379115708103`*^9, 3.8459379256433887`*^9}, {
  3.8459380520958967`*^9, 3.845938052281776*^9}, {3.845994190522644*^9, 
  3.8459942120200367`*^9}, {3.845994741694096*^9, 3.845994741843305*^9}, {
  3.845996707685151*^9, 3.845996707864097*^9}, {3.8459967657291594`*^9, 
  3.845996766636663*^9}, {3.845996965030325*^9, 3.845996965240881*^9}, {
  3.845997221741654*^9, 3.84599722194622*^9}, {3.845997530195916*^9, 
  3.845997530254978*^9}},
 CellLabel->
  "In[224]:=",ExpressionUUID->"9c8b3597-0a46-48e7-8b5d-fbe411e47f42"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"inner15", "[", 
  RowBox[{"[", "1", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.846086110503421*^9, 3.846086113946884*^9}},
 CellLabel->
  "In[225]:=",ExpressionUUID->"8ece8471-277e-44fa-b72f-7425a4382af9"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.4273143851814867`", ",", "0.732340472999959`", ",", 
   "0.8608305880493895`", ",", "0.8814538943962706`", ",", 
   "0.8868956420156723`", ",", "0.8045749001164042`", ",", 
   "0.8017641596920078`", ",", "0.8328867497998877`", ",", 
   "0.8207926109643969`", ",", "0.7712531493832144`", ",", 
   "0.7116924505835083`", ",", "0.6828484168550815`", ",", 
   "0.6762858430818206`", ",", "0.623764302846708`", ",", 
   "0.6111979498510315`", ",", "0.5710122056788937`", ",", 
   "0.44746447026975106`", ",", "0.4144035129787138`", ",", 
   "0.2547250123632963`", ",", "0.2663084128995105`", ",", 
   "0.23789113698826025`", ",", "0.15559185159903574`", ",", 
   "0.12303084906616422`", ",", "0.13442950135960208`", ",", 
   "0.18156731761567668`", ",", "0.2513556317312988`", ",", 
   "0.03134695421345806`", ",", "0.08216685793671048`", ",", 
   "0.05212686496595086`", ",", "0.04978572651437941`", ",", 
   "0.0481134762058621`", ",", "0.04094684177347143`", ",", 
   "0.25825944524181466`", ",", "0.3031419477567161`", ",", 
   "0.012967225892239788`"}], "}"}]], "Output",
 CellChangeTimes->{3.8460863813594112`*^9, 3.846087136961863*^9, 
  3.846087320622154*^9},
 CellLabel->
  "Out[225]=",ExpressionUUID->"44afcd2c-b325-4950-a6fb-edeea56291f5"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"inter15", "[", 
  RowBox[{"[", "1", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.846086114760579*^9, 3.846086116625803*^9}},
 CellLabel->
  "In[226]:=",ExpressionUUID->"4ce496ff-e116-4552-ae4f-719c89f71d9f"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.5726856148185133`", ",", "0.26765952700004103`", ",", 
   "0.13916941195061042`", ",", "0.11854610560372938`", ",", 
   "0.11310435798432782`", ",", "0.1954250998835959`", ",", 
   "0.19823584030799213`", ",", "0.16711325020011217`", ",", 
   "0.17920738903560313`", ",", "0.22874685061678565`", ",", 
   "0.2883075494164918`", ",", "0.3171515831449186`", ",", 
   "0.3237141569181793`", ",", "0.37623569715329197`", ",", 
   "0.3888020501489685`", ",", "0.4289877943211064`", ",", 
   "0.552535529730249`", ",", "0.5855964870212861`", ",", 
   "0.7452749876367036`", ",", "0.7336915871004894`", ",", 
   "0.7621088630117396`", ",", "0.8444081484009643`", ",", 
   "0.8769691509338359`", ",", "0.8655704986403979`", ",", 
   "0.8184326823843234`", ",", "0.7486443682687012`", ",", 
   "0.9686530457865421`", ",", "0.9178331420632895`", ",", 
   "0.9478731350340491`", ",", "0.9502142734856206`", ",", 
   "0.951886523794138`", ",", "0.9590531582265286`", ",", 
   "0.7417405547581855`", ",", "0.696858052243284`", ",", 
   "0.9870327741077601`", ",", "0.9971091145717323`", ",", 
   "0.996836099238299`", ",", "0.9956903070340092`", ",", 
   "0.9956020933285367`", ",", "0.995645964484149`", ",", "1.`", ",", "Null", 
   ",", "Null", ",", "Null", ",", "Null", ",", "Null", ",", "Null", ",", 
   "Null", ",", "Null", ",", "Null", ",", "Null", ",", "Null", ",", "Null", 
   ",", "Null", ",", "Null", ",", "Null", ",", "Null", ",", "Null"}], 
  "}"}]], "Output",
 CellChangeTimes->{3.846086381363926*^9, 3.846087136981996*^9, 
  3.846087320627565*^9},
 CellLabel->
  "Out[226]=",ExpressionUUID->"032f01f7-177d-4cc6-b695-167b7852c3c0"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"Export", "[", 
    RowBox[{
    "\"\<data/analysis/a2_inner_transmission_over_total_transmission_in_\
cities_15_year_buckets_500_years.csv\>\"", ",", "inner15"}], "]"}], ";"}], 
  "*)"}]], "Input",
 CellChangeTimes->{
  3.846086419148056*^9, {3.846087321594923*^9, 
   3.846087330378263*^9}},ExpressionUUID->"236c433b-7d7a-4451-a9ef-\
12be49bc09d5"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"Export", "[", 
    RowBox[{
    "\"\<data/analysis/a2_inter_transmission_over_total_transmission_in_\
cities_15_year_buckets_500_years.csv\>\"", ",", "inter15"}], "]"}], ";"}], 
  "*)"}]], "Input",
 CellChangeTimes->{
  3.846086417984784*^9, {3.846087322512354*^9, 
   3.846087331752676*^9}},ExpressionUUID->"83666e65-d5f5-4a18-981c-\
c8947db9ad6a"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
  "*", " ", "format", " ", "data", " ", "for", " ", "hinton", " ", 
   "diagram"}], " ", "**)"}]], "Input",
 CellChangeTimes->{{3.846085656012442*^9, 3.84608567327054*^9}, {
  3.846085952099762*^9, 3.8460859535271*^9}},
 CellLabel->
  "In[209]:=",ExpressionUUID->"e1dd2d6d-4d5d-4ce6-9447-a465619163fa"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"**", " ", "only"}], " ", "need", " ", "to", " ", "use", " ", 
   "inner", " ", "to", " ", "get", " ", "both", " ", "inner", " ", "and", " ",
    "inter"}], " ", "***)"}]], "Input",
 CellLabel->
  "In[210]:=",ExpressionUUID->"ccf16db2-a097-4a76-89ea-c877577e1233"],

Cell[BoxData[
 RowBox[{
  RowBox[{"dat15", "=", 
   RowBox[{"Transpose", "[", "inner15", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.846085972956964*^9, 3.846085973086931*^9}, {
  3.846086061633895*^9, 3.8460860624464407`*^9}},
 CellLabel->
  "In[236]:=",ExpressionUUID->"1929b528-45c4-416f-a33d-e35dc1313820"],

Cell[BoxData[
 RowBox[{"For", "[", 
  RowBox[{
   RowBox[{"i", "=", "1"}], ",", 
   RowBox[{"i", "\[LessEqual]", 
    RowBox[{"Length", "[", "dat15", "]"}]}], ",", 
   RowBox[{"i", "++"}], ",", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"row", "=", 
     RowBox[{"dat15", "[", 
      RowBox[{"[", "i", "]"}], "]"}]}], ";", "\[IndentingNewLine]", 
    RowBox[{"For", "[", 
     RowBox[{
      RowBox[{"j", "=", "1"}], ",", 
      RowBox[{"j", "\[LessEqual]", 
       RowBox[{"Length", "[", "row", "]"}]}], ",", 
      RowBox[{"j", "++"}], ",", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"row", "[", 
           RowBox[{"[", "j", "]"}], "]"}], "\[Equal]", "Null"}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"row", "[", 
            RowBox[{"[", "j", "]"}], "]"}], "=", "Null"}], ";", 
          RowBox[{"Continue", "[", "]"}], ";"}]}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"row", "[", 
           RowBox[{"[", "j", "]"}], "]"}], ">=", "0.5"}], ",", 
         RowBox[{
          RowBox[{
           RowBox[{"row", "[", 
            RowBox[{"[", "j", "]"}], "]"}], "=", 
           RowBox[{
            RowBox[{"row", "[", 
             RowBox[{"[", "j", "]"}], "]"}], "-", "0.5"}]}], ";", 
          RowBox[{"Continue", "[", "]"}], ";"}]}], "]"}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"row", "[", 
           RowBox[{"[", "j", "]"}], "]"}], "<", "0.5"}], ",", 
         RowBox[{
          RowBox[{"row", "[", 
           RowBox[{"[", "j", "]"}], "]"}], "=", 
          RowBox[{
           RowBox[{"-", "1"}], "*", 
           RowBox[{"(", 
            RowBox[{"0.5", "-", 
             RowBox[{"row", "[", 
              RowBox[{"[", "j", "]"}], "]"}]}], ")"}]}]}]}], "]"}], ";"}]}], 
     "\[IndentingNewLine]", "]"}], ";", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"dat15", "[", 
      RowBox[{"[", "i", "]"}], "]"}], "=", "row"}], ";"}]}], 
  "\[IndentingNewLine]", "]"}]], "Input",
 CellChangeTimes->{{3.845996335465798*^9, 3.845996474646763*^9}, {
  3.845996508797442*^9, 3.845996557288643*^9}, {3.845996650218523*^9, 
  3.8459966650531054`*^9}, {3.845997063158017*^9, 3.845997076638485*^9}, {
  3.846086066619049*^9, 3.846086076161805*^9}, {3.846087338472239*^9, 
  3.846087348400023*^9}},
 CellLabel->
  "In[237]:=",ExpressionUUID->"0ea9aa81-3fc5-43bd-83c0-3608c4b86fc0"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"dat15", "[", 
  RowBox[{"[", "1", "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.845997039008594*^9, 3.845997040354423*^9}, {
  3.8460859763920937`*^9, 3.846085979871024*^9}, {3.8460860792546988`*^9, 
  3.846086079492977*^9}},
 CellLabel->
  "In[238]:=",ExpressionUUID->"df162e37-bc2b-478b-996c-1e64543ca853"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"-", "0.07268561481851332`"}], ",", "Null", ",", 
   "0.00473605280885292`", ",", "0.13575686097765616`", ",", 
   "0.31444568203698553`", ",", 
   RowBox[{"-", "0.08825746959035735`"}], ",", "Null", ",", 
   RowBox[{"-", "0.43169059115611597`"}], ",", "Null", ",", "Null", ",", 
   "Null", ",", "0.01959410746035828`", ",", "Null", ",", "Null", ",", "Null",
    ",", "Null", ",", "Null", ",", "Null", ",", "Null", ",", "Null", ",", 
   "Null", ",", "Null", ",", "Null", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{{3.8459970405393133`*^9, 3.8459970563473997`*^9}, 
   3.845997112211278*^9, {3.845997202767218*^9, 3.845997225293736*^9}, 
   3.845997534560157*^9, 3.846085830138488*^9, 3.846085981027133*^9, 
   3.846086381414957*^9, 3.8460871370190287`*^9, {3.846087341907446*^9, 
   3.846087349952106*^9}, 3.846087423894301*^9},
 CellLabel->
  "Out[238]=",ExpressionUUID->"f29d2c65-c7c9-4ca1-a8d5-1fd1f8eeaaf2"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{
   RowBox[{"Export", "[", 
    RowBox[{
    "\"\<data/analysis/a2_inner_vs_inter_transmission_over_total_transmission_\
in_cities_15_year_buckets_500_years_formatted.csv\>\"", ",", "dat15"}], "]"}],
    ";"}], "*)"}]], "Input",
 CellChangeTimes->{{3.845833401004396*^9, 3.845833430075856*^9}, {
   3.8458335134119577`*^9, 3.8458335154257936`*^9}, {3.8458341587306833`*^9, 
   3.845834164051805*^9}, {3.845836014295741*^9, 3.8458360145874453`*^9}, {
   3.845937070349772*^9, 3.845937084189372*^9}, {3.8459371673395367`*^9, 
   3.84593718483659*^9}, 3.846085865569501*^9, {3.846085998207355*^9, 
   3.846086009100995*^9}, {3.8460860441825047`*^9, 3.8460860456405277`*^9}, {
   3.846086082023616*^9, 3.846086082239174*^9}, 3.8460864161730547`*^9, {
   3.846087427116687*^9, 
   3.846087429259654*^9}},ExpressionUUID->"176dd10a-1547-4aa9-b379-\
aea8c3731d70"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{808, 761},
WindowMargins->{{177, Automatic}, {Automatic, 0}},
FrontEndVersion->"12.2 for Mac OS X x86 (64-bit) (December 12, 2020)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"46bdbbcc-929e-4026-8700-47185fb4b7d8"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 647, 11, 160, "Title",ExpressionUUID->"62a1937e-1a65-443b-95bd-dab7c213217e"],
Cell[CellGroupData[{
Cell[1252, 37, 733, 12, 143, "Section",ExpressionUUID->"a9ecb885-5761-4249-a4fc-4941f1d7fb57"],
Cell[1988, 51, 300, 6, 30, "Input",ExpressionUUID->"7caffe39-cbac-4065-b2bb-72065b68737d"],
Cell[2291, 59, 415, 10, 30, "Input",ExpressionUUID->"d13498ec-c738-45c5-8b7b-ad07edd81857"],
Cell[2709, 71, 275, 6, 30, "Input",ExpressionUUID->"bb235ef4-0c7d-4640-8174-3b033a7ba126"],
Cell[2987, 79, 267, 6, 30, "Input",ExpressionUUID->"4d6a6852-6f2a-4b12-8219-02fb9c00c67c"],
Cell[3257, 87, 572, 13, 30, "Input",ExpressionUUID->"eca1c160-ef2a-43d0-b13f-32ca2b32fcc1"],
Cell[CellGroupData[{
Cell[3854, 104, 229, 5, 30, "Input",ExpressionUUID->"8a50cc33-ea0d-410f-8c80-0d39f7807469"],
Cell[4086, 111, 346, 5, 34, "Output",ExpressionUUID->"1232caa9-ca4e-4f14-9172-134e91b88c1e"]
}, Open  ]],
Cell[4447, 119, 262, 6, 30, "Input",ExpressionUUID->"80e830ef-7837-47e2-be36-0ed6fbd001df"],
Cell[4712, 127, 441, 11, 30, "Input",ExpressionUUID->"2fd37356-461d-41fc-a0ad-57e5c361cbc9"],
Cell[CellGroupData[{
Cell[5178, 142, 229, 5, 30, "Input",ExpressionUUID->"1d982116-37a8-4458-bed6-413c83e27199"],
Cell[5410, 149, 785, 15, 36, "Output",ExpressionUUID->"532ac21b-5e2e-432f-b1a2-ff390a26cacc"]
}, Open  ]],
Cell[6210, 167, 428, 8, 30, "Input",ExpressionUUID->"01984cc1-3f3c-47f8-8461-d61c840c10c4"],
Cell[CellGroupData[{
Cell[6663, 179, 367, 9, 30, "Input",ExpressionUUID->"aa7a6073-e946-4346-b308-cad948428100"],
Cell[7033, 190, 436, 8, 34, "Output",ExpressionUUID->"f203dfa1-aac1-4586-b819-34e93fa5c7b0"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7506, 203, 390, 9, 30, "Input",ExpressionUUID->"e11d9ade-f10e-4aef-ac5e-b3a213f70e35"],
Cell[7899, 214, 438, 8, 34, "Output",ExpressionUUID->"a9707252-dc29-4680-bc96-8446bdbd2335"]
}, Open  ]],
Cell[8352, 225, 377, 8, 30, "Input",ExpressionUUID->"99ddbade-a3f2-4c05-8caf-fe37479526bd"],
Cell[8732, 235, 686, 20, 52, "Input",ExpressionUUID->"1d74027c-d0ed-49fc-abc0-b4d229b7bcc0"],
Cell[9421, 257, 1015, 28, 52, "Input",ExpressionUUID->"2779a4d3-fe4b-457c-9507-c30e9d5d9e7d"],
Cell[CellGroupData[{
Cell[10461, 289, 307, 7, 32, "Input",ExpressionUUID->"2004ab58-e72c-45b2-80ed-3d09c337e948"],
Cell[10771, 298, 555, 11, 34, "Output",ExpressionUUID->"70f2d3f6-ddea-4c1d-b77c-3a24a1f5dd28"]
}, Open  ]],
Cell[CellGroupData[{
Cell[11363, 314, 310, 7, 32, "Input",ExpressionUUID->"3c484ae1-9307-4cc9-8164-cadd192bc377"],
Cell[11676, 323, 529, 11, 34, "Output",ExpressionUUID->"7a0e7ed0-e30d-4e40-a3dd-29f121ddcbf6"]
}, Open  ]],
Cell[12220, 337, 329, 7, 30, "Input",ExpressionUUID->"d9cab323-4cda-4afc-a3f8-2735d12d88a3"],
Cell[12552, 346, 4177, 100, 388, "Input",ExpressionUUID->"bb393740-209f-4362-9912-404c5cd7d3a9"],
Cell[CellGroupData[{
Cell[16754, 450, 336, 8, 32, "Input",ExpressionUUID->"2e7881b9-a4e4-4122-8322-afb48ac77ff8"],
Cell[17093, 460, 755, 14, 34, "Output",ExpressionUUID->"01356eb2-9f71-4001-84b4-467dae075144"]
}, Open  ]],
Cell[CellGroupData[{
Cell[17885, 479, 242, 6, 32, "Input",ExpressionUUID->"ada7900b-82a2-44e4-970a-2011741da793"],
Cell[18130, 487, 559, 11, 56, "Output",ExpressionUUID->"77a65984-b7ab-496e-aa8e-9271705870dc"]
}, Open  ]],
Cell[18704, 501, 421, 9, 30, "Input",ExpressionUUID->"d7594bf9-cb8a-40ea-adb3-f0f6d03721d3"],
Cell[19128, 512, 379, 8, 30, "Input",ExpressionUUID->"c9442cde-9aa4-4b55-853c-f256ae5ee55f"],
Cell[CellGroupData[{
Cell[19532, 524, 182, 3, 30, "Input",ExpressionUUID->"66d94f18-cfb1-47f4-bcef-00c693f49cae"],
Cell[19717, 529, 356, 7, 34, "Output",ExpressionUUID->"ec8bd9c3-09fb-430c-b33d-ea6d2f383638"]
}, Open  ]],
Cell[CellGroupData[{
Cell[20110, 541, 181, 3, 30, "Input",ExpressionUUID->"006862d9-d57d-4020-810c-9865a852d12a"],
Cell[20294, 546, 343, 6, 34, "Output",ExpressionUUID->"4f39eb07-27fa-4249-b2bf-e2576479e200"]
}, Open  ]],
Cell[20652, 555, 701, 16, 52, "Input",ExpressionUUID->"9c127fc3-1725-4a1b-b3d3-a9da78bc72b0"],
Cell[21356, 573, 482, 11, 73, "Input",ExpressionUUID->"7d414c3e-dcc7-4b67-bb2b-23835c006f25"],
Cell[21841, 586, 1232, 31, 52, "Input",ExpressionUUID->"35405b44-99c9-492e-b191-141894f730ed"],
Cell[23076, 619, 1025, 28, 52, "Input",ExpressionUUID->"d843082e-25b3-4754-8674-e0f856dc11d2"],
Cell[24104, 649, 437, 9, 30, "Input",ExpressionUUID->"dcdcff28-a6be-46f6-8b92-1fa1a4824ebf"],
Cell[24544, 660, 2156, 53, 283, "Input",ExpressionUUID->"976508b5-72e6-4267-80de-4f8cb342471f"],
Cell[26703, 715, 2096, 54, 283, "Input",ExpressionUUID->"1c4850cc-ee97-4909-8270-1f83642527e8"],
Cell[CellGroupData[{
Cell[28824, 773, 309, 7, 32, "Input",ExpressionUUID->"949c0050-a4d3-4291-8770-9631fdcc0443"],
Cell[29136, 782, 430, 9, 34, "Output",ExpressionUUID->"cb75cbf1-f539-4269-b458-db0e08e1daba"]
}, Open  ]],
Cell[CellGroupData[{
Cell[29603, 796, 310, 7, 32, "Input",ExpressionUUID->"c09b4164-0a70-4c07-aa00-2572b722ec55"],
Cell[29916, 805, 424, 9, 34, "Output",ExpressionUUID->"e4b844e3-f242-419b-a35e-bc0ed13625d9"]
}, Open  ]],
Cell[30355, 817, 334, 8, 30, "Input",ExpressionUUID->"106d0c8b-c5df-47ea-8fe2-c12a4f4921cc"],
Cell[30692, 827, 2899, 69, 346, "Input",ExpressionUUID->"f715b044-237e-43be-8f9b-4b783c367a3a"],
Cell[CellGroupData[{
Cell[33616, 900, 363, 8, 32, "Input",ExpressionUUID->"2202b500-4362-4926-a3b0-e30bf52c2709"],
Cell[33982, 910, 640, 13, 56, "Output",ExpressionUUID->"7b613405-f4ce-45a7-b4bb-9547b8feae04"]
}, Open  ]],
Cell[CellGroupData[{
Cell[34659, 928, 338, 8, 32, "Input",ExpressionUUID->"cbc69d2c-7106-4cb6-ac3b-49ee42ca810c"],
Cell[35000, 938, 610, 12, 56, "Output",ExpressionUUID->"47c43ea9-8ab8-44f9-b66c-4da973a8daba"]
}, Open  ]],
Cell[35625, 953, 280, 6, 30, "Input",ExpressionUUID->"681eaacf-2fcf-42bb-ad63-1126a18bfc03"],
Cell[35908, 961, 339, 8, 52, "Input",ExpressionUUID->"4763bce9-b7b5-41ee-aa43-88552e99c759"],
Cell[36250, 971, 2882, 71, 346, "Input",ExpressionUUID->"c61daeb0-c485-4cf1-8349-45d1ad09e9e0"],
Cell[CellGroupData[{
Cell[39157, 1046, 409, 9, 32, "Input",ExpressionUUID->"988e2dcb-6386-4d03-91c1-ffce7f1a3cc5"],
Cell[39569, 1057, 719, 14, 56, "Output",ExpressionUUID->"ee98c346-c350-48f7-a3bc-6b6cd808871b"]
}, Open  ]],
Cell[CellGroupData[{
Cell[40325, 1076, 362, 8, 32, "Input",ExpressionUUID->"df8ed91b-0d63-42c4-9b58-648cac272b0b"],
Cell[40690, 1086, 679, 13, 56, "Output",ExpressionUUID->"79f6166b-f2da-4f46-8242-12df71aa3565"]
}, Open  ]],
Cell[41384, 1102, 427, 9, 30, "Input",ExpressionUUID->"88f50cc6-09ff-4e44-952b-a8e4cb310a82"],
Cell[41814, 1113, 1494, 34, 73, "Input",ExpressionUUID->"802a9bca-fb5a-4a35-9be9-cde98eb51521"],
Cell[43311, 1149, 1494, 33, 73, "Input",ExpressionUUID->"9c8b3597-0a46-48e7-8b5d-fbe411e47f42"],
Cell[CellGroupData[{
Cell[44830, 1186, 232, 5, 30, "Input",ExpressionUUID->"8ece8471-277e-44fa-b72f-7425a4382af9"],
Cell[45065, 1193, 1290, 24, 98, "Output",ExpressionUUID->"44afcd2c-b325-4950-a6fb-edeea56291f5"]
}, Open  ]],
Cell[CellGroupData[{
Cell[46392, 1222, 232, 5, 30, "Input",ExpressionUUID->"4ce496ff-e116-4552-ae4f-719c89f71d9f"],
Cell[46627, 1229, 1676, 30, 140, "Output",ExpressionUUID->"032f01f7-177d-4cc6-b695-167b7852c3c0"]
}, Open  ]],
Cell[48318, 1262, 402, 11, 73, "Input",ExpressionUUID->"236c433b-7d7a-4451-a9ef-12be49bc09d5"],
Cell[48723, 1275, 402, 11, 73, "Input",ExpressionUUID->"83666e65-d5f5-4a18-981c-c8947db9ad6a"],
Cell[49128, 1288, 343, 8, 30, "Input",ExpressionUUID->"e1dd2d6d-4d5d-4ce6-9447-a465619163fa"],
Cell[49474, 1298, 316, 7, 30, "Input",ExpressionUUID->"ccf16db2-a097-4a76-89ea-c877577e1233"],
Cell[49793, 1307, 314, 7, 30, "Input",ExpressionUUID->"1929b528-45c4-416f-a33d-e35dc1313820"],
Cell[50110, 1316, 2552, 68, 199, "Input",ExpressionUUID->"0ea9aa81-3fc5-43bd-83c0-3608c4b86fc0"],
Cell[CellGroupData[{
Cell[52687, 1388, 332, 7, 30, "Input",ExpressionUUID->"df162e37-bc2b-478b-996c-1e64543ca853"],
Cell[53022, 1397, 971, 17, 77, "Output",ExpressionUUID->"f29d2c65-c7c9-4ca1-a8d5-1fd1f8eeaaf2"]
}, Open  ]],
Cell[54008, 1417, 896, 17, 73, "Input",ExpressionUUID->"176dd10a-1547-4aa9-b379-aea8c3731d70"]
}, Open  ]]
}, Open  ]]
}
]
*)

